define(['uiComponent','ko','uiLayout'],function(Component,ko,layout){'use strict';return Component.extend({defaults:{elementName:'',fieldType:'',tableId:'',template:'Vertex_Tax/flex-field-table',selectOptions:[{label:'No Data',value:'none'}]},retrieveFields:[],initialize:function(){this._super();this.retrieveFields=ko.observableArray();this.initializeFields();return this;},initializeFields:function(){var i,name,toLayOut=[];for(i in this.values){if(this.values.hasOwnProperty(i)){name=this.fieldType+'FlexField'+this.values[i]['field_id'];toLayOut.push({component:'Vertex_Tax/js/form/flex-field-select',template:'ui/grid/filters/elements/ui-select',parent:this.name,name:name,dataScope:'',multiple:false,selectType:'optgroup',selectedPlaceholders:{defaultPlaceholder:'No Data'},showOpenLevelsActionIcon:true,presets:{optgroup:{showOpenLevelsActionIcon:true}},filterOptions:true,isDisplayMissingValuePlaceholder:true,options:this.selectOptions,value:this.values[i]['field_source']});this.retrieveFields.push({fieldId:this.values[i]['field_id'],childName:name});}}
layout(toLayOut);},getFieldIdInputName:function(fieldId){return this.elementName+'['+fieldId+'][field_id]';},getFieldValueInputName:function(fieldId){return this.elementName+'['+fieldId+'][field_source]';},getEmptyName:function(){return this.elementName+'[__empty]';}});});