Xtento_TrackingImport

-------------
  CHANGELOG
-------------

===== 2.0.0 =====
 * Initial stable M2 release

===== 2.0.1 =====
 * Fixed "Change order status" action for orders that still can be invoiced/completed but don't use the "Change status after partial update" action

===== 2.0.2 =====
 * Fixed a bug where cronjobs of other import profiles where removed when saving a profile

===== 2.0.3 =====
 * Fixed bug (Registry key "current_shipment" already exists) that could happen when creating multiple shipments at the same time
 * Fixed shipment email re-sending when another tracking number is added to an existing shipment

===== 2.0.4 =====
 * Fixed shipment creation logic that sometimes lead to the shipment being created, but the order itself not reflecting "Qty Shipped"
 * Established compatibility with other email transports such as Ebizmarts/Mandrill for debug message mailing.

===== 2.0.5 =====
 * Compatibility with Magento 2.1.0 established
 * Fixed SFTP source type, Net_SFTP library using namespaced class names now
 * Cronjobs for profiles which have been deleted are automatically deleted as well

===== 2.0.6 =====
 * SFTP source type is now working for Magento 2.0 and Magento 2.1

===== 2.0.7 =====
 * Updated composer.json to require XTENTO "XtCore" base module

===== 2.0.8 =====
 + Added event "xtento_trackingimport_files_load_after" which is called after files have been loaded from sources, so third party developers can retrieve/modify files
 * Fixed bug when invoicing virtual products

===== 2.0.9 =====
 + Set grid column type for various columns in "Execution Log" to "longtext" so long result messages are not truncated on the grid
 + Established compatibility with PHP 7: A class named "Object" (handling filters) has been renamed to "ObjectCondition" as "Object" is a reserved word with PHP 7
 * Fixed a bug for the "Additional Configuration" popup where &amp; was converted to & automatically upon saving the configuration

===== 2.1.0 =====
 + Added bin/magento "xtento:trackingimport:import" CLI command
 * Fixed "Tools > Import" functionality: Sometimes sources assigned to an imported profile were not automatically assigned to the imported profile again.

===== 2.1.1 =====
 * Fixed issues for manual imports where sometimes (especially in Internet Explorer, but also Chrome/Firefox) the profile drop down didn't work and no manual import was possible.

===== 2.1.2 =====
 * Fixed issue with profile configuration/profiles failing to load with error "... expects parameter 1 to be string, array"

===== 2.1.3 =====
 * Fixed error "Fatal error:  Class 'Xtento\TrackingImport\Model\Export\Condition\ObjectCondition' not found"

===== 2.1.4 =====
 * Fixed issue for credit memo generation, tax amount refunded was wrong, adjusted to Magento core logic

===== 2.1.5 =====
 * Fixed bug for profiles imported using "Tools > Import" functionality: Cronjob import never started until the profile was saved for the first time; now cronjobs are updated directly after the import via "Tools"
 * Fixed "Webservice.php.sample" sample source file that was broken

===== 2.1.6 =====
 + Added "xtento:trackingimport:config:export" and "xtento:trackingimport:config:import" commands that add "Tracking Import > Tools" functionality for the Magento command line via php bin/magento.

===== 2.1.7 =====
 + Added ability to refund credit memos online - if only one invoice exists for an order, the credit memo will be created against this invoice so an online refund is possible.

===== 2.1.8 =====
 * Updated Xtento_XtCore to version 2.0.7 ("Added warning in module configuration at System > Configuration if module output is disabled via "Disable Module Output" at System > Configuration > Advanced > Advanced")

===== 2.1.9 =====
 * Fixed logic which decides if credit memo should be refunded offline or online.

===== 2.2.0 =====
 * Fixed issue for invoice/shipment creation with multiple line items with same SKU split across multiple lines; correct QTYs are now shipped

===== 2.2.1 =====
 * Updated Xtento_XtCore to version 2.0.8

===== 2.2.2 =====
 + For shipments created using the module, the order comment imported will be shown in the email sent to the customer

===== 2.2.3 =====
 * Log entries with 0 records updated that have warnings/errors are now logged and not deleted like before
 * Fixed issue about area code for CLI exports using the CLI export command
 * Forcing environment emulation for correct email theme/templates to be used per store view the order was placed in [Disable Single Store Mode if you have issues with email templates sent]

===== 2.2.4 =====
 + Added support for negate="true" attribute for "Additional Configuration" <use>, <map> and <skip> options. Match if preg_match does NOT match.
 * Fixed "Additional Configuration" options for XML import profiles. Sometimes an error about an undefined config was shown.

===== 2.2.5 =====
 + Compatibility with Magento 2.2 established

===== 2.2.6 =====
 * Fixed error during setup:di:compile for Magento 2.0/2.1

===== 2.2.7 =====
 * Fixed bug in grid serializer: Source is not unchecked when editing profile if "Edit Source" link is clicked

===== 2.2.8 =====
 * Added a warning if no mapping/actions have been defined for import profile

===== 2.2.9 =====
 * Fixed "Order Update" email sending; correct email is sent now including the comment

===== 2.3.0 =====
 * Fix: If only a comment is imported into order status history, and "send order update email" is enabled, "Customer Notified" is set to "Yes" in order status history

===== 2.3.1 =====
 * Updated Xtento_XtCore to version 2.1

===== 2.3.2 =====
 * Fixed issue "Unable to unserialize" when updating to Magento 2.2+

===== 2.3.3 =====
 * Fixed bug for loopable XML fields that are not item-level related

===== 2.3.4 =====
 * Fixed email sending for email error notification on Magento 2.2+ (Error: "Call to undefined method Magento\Email\Model\Transport\Interceptor::send()")

===== 2.3.5 =====
 * Established compatibility with Magento 2.2.2: Fixed "We cannot create an empty shipment" error
 * Improved credit memo import: Refunds should be made against correct invoice now, if there are multiple invoices

===== 2.3.6 =====
 * Fixed issue for credit memo import: Parent/simple items should be refunded correct now.

===== 2.3.7 =====
 * Fixed error email notification: From email is now retrieved from system configuration ("ident_general/email")

===== 2.3.8 =====
 * Fixed bug when importing profiles from Magento 1 or Magento 2.0/2.1 via the "Tools" functionality of the module

===== 2.3.9 =====
 * Fixed "xtento_trackingimport_mapping_get_fields" event, fields can be customized via the event now.

===== 2.4.0 =====
 * Fixed issue for "Tools" import functionality that could lead to an error when importing profiles
 * Updated Xtento_XtCore to version 2.2.0

===== 2.4.1 =====
 + Added additional safe-guard against unwanted cronjob imports in case the module is disabled
 + Removed "is module properly installed" check, not required for Magento 2

===== 2.4.2 =====
 * Deleting a profile also deletes the profiles cronjobs now, to avoid "zombie" cronjobs that don't do anything.

===== 2.4.3 =====
 * [Improved Magento 2.2 Compatibility] Added a RecurringData setup script that checks if an upgrade to M2.2 was performed, if yes, data structure in the profile tables will be changed from serialized to JSON automatically

===== 2.4.4 =====
 * Updated Xtento_XtCore to version 2.3.0
 * Confirmed compatibility with Magento CE 2.2.5 / EE 2.2.5

===== 2.4.5 =====
 * Fixed code compilation issue in Status class

===== 2.4.6 =====
 * Fixed issue in grids: After filtering/searching, mass actions didn't work anymore

===== 2.4.7 =====
 * Fixed a bug for "Tools > Settings Import": Importing settings exported from Magento >=2.2 into Magento <=2.1 failed
 * Fixed error when trying to view a broken import profile: "Invalid argument supplied for foreach() in ... AbstractMapping.php"

===== 2.4.8 =====
 * Fixed sorting/filtering/searching within log/history grids when editing a profile

===== 2.4.9 =====
 + Enabled by default: Add tracking# to shipment# specified as order_identifier, i.e. when loading orders via shipment# in profile, add the tracking# to the correct shipment.

===== 2.5.0 =====
 * Fixed an issue when trying to use "Tools > Settings Import": "Class Xtento\OrderExport\Test\SerializedToJsonDataConverter does not exist"

===== 2.5.1 =====
* Fixed issue "Invalid method Magento\Eav\Model\Entity\Attribute::isAllowedForRuleCondition". However, if you encounter this issue, you will most likely need to apply this fix as well: https://magento.stackexchange.com/a/231602/10

===== 2.5.2 =====
 * Performance Improvement: Order loading optimized under certain conditions (Percona DB (and others) uses index properly now)

===== 2.5.3 =====
 + Established compatibility with Magento 2.3
 * [2.3] Fixed source not saveable due to encryption error

===== 2.5.4 =====
 * Removed calls to deprecated function "create_function" and replaced code with compliant equivalent

===== 2.5.5 =====
 * Final fix for built-in editor (Ace.js) having issues with tabs/spaces/theme. Be sure to deploy static content after updating.

===== 2.5.6 =====
 + Added support for Magento 2.3 Multi-Source Inventory feature: Specify warehouse/source_code to ship from

===== 2.5.7 =====
 + Added ability to identify items to import using their order_item_id ("Product Identifier: Order Item ID")

===== 2.5.8 =====
 + Added "graceful die": If export crashes for some reason, error message should be logged in execution log