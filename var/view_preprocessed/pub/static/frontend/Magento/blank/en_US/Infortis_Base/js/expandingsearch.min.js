;(function($,window,document,undefined){$.widget("infortis.expandingsearch",{options:{searchDelayIn:500,searchDelayOut:300},searchBlock:undefined,searchField:undefined,searchButton:undefined,searchOpenTimeout:undefined,searchCloseTimeout:undefined,_create:function(){this._initPlugin();},_initPlugin:function(){this.searchBlock=this.element;this.searchField=this.searchBlock.find('#search');this.searchButton=this.searchBlock.find('#action-search');this._initButtonClick();this._initBlockMouseenter();this._initFieldFocusin();this._initFieldFocusout();},open:function(){this.searchBlock.addClass('_active');},openDelayed:function(){var _self=this;clearTimeout(_self.searchOpenTimeout);_self.searchOpenTimeout=setTimeout(function(){_self.open();},_self.options.searchDelayIn);},close:function(){this.searchBlock.removeClass('_active');$('#search_autocomplete').hide();},closeDelayed:function(){var _self=this;clearTimeout(_self.searchCloseTimeout);_self.searchCloseTimeout=setTimeout(function(){_self.close();},_self.options.searchDelayOut);},_initFieldFocusin:function(){var _self=this;_self.searchField.on('focusin',function(event){_self.open();});},_initFieldFocusout:function(){var _self=this;_self.searchField.on('focusout',function(event){_self.close();});},_initButtonClick:function(){var _self=this;_self.searchButton.on('click',function(event){if(_self.searchBlock.hasClass('_active')===false){_self.open();if($.trim(_self.searchField.val())){event.preventDefault();}}});},_initBlockMouseenter:function(){var _self=this;_self.searchBlock.on('mouseenter',function(event){clearTimeout(_self.searchCloseTimeout);_self.openDelayed();}).on('mouseleave',function(event){clearTimeout(_self.searchOpenTimeout);if(_self.searchField.is(":focus")===false){_self.closeDelayed();}});}});})(jQuery,window,document);